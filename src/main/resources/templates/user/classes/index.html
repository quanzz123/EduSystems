<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lớp học của tôi</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdn.lineicons.com/4.0/lineicons.css">
</head>
<body>

<section class="classes-section py-5">

    <!-- NÚT QUAY LẠI -->
    <div class="container mb-4">
        <a href="javascript:history.back()" class="btn btn-back">
            <i class="lni lni-arrow-left me-1"></i> Quay lại
        </a>
    </div>

    <div class="container">

        <!-- HEADER -->
        <div class="mb-4">
            <h2 class="fw-bold">
                <i class="lni lni-book text-primary me-2"></i>
                Lớp học của tôi
            </h2>
            <p class="text-muted">
                Xin chào
                <strong th:text="${currentUser.fullname}">Sinh viên</strong>
            </p>
        </div>

        <!-- DANH SÁCH LỚP -->
        <div class="row g-4">

            <div class="col-lg-6" th:each="c : ${classes}">

                <div class="class-card">

                    <!-- HEADER -->
                    <div class="class-header">
                        <span class="badge bg-light text-primary">
                            <i class="lni lni-graduation me-1"></i>
                            <span th:text="${c.subject}">Môn học</span>
                        </span>

                        <!-- Trạng thái: đang học -->
                        <span class="status open">Đang học</span>
                    </div>

                    <!-- BODY -->
                    <div class="class-body">
                        <h5 th:text="${c.classname}">Tên lớp học</h5>
                        <p th:text="${c.description}">Mô tả lớp học</p>
                    </div>

                    <!-- FOOTER -->
                    <div class="class-footer">
                        <a th:href="@{/user/classes/{id}/lessons(id=${c.classid})}"
                           class="btn btn-sm btn-primary w-100">
                            <i class="lni lni-play me-1"></i>
                            Xem bài giảng
                        </a>
                    </div>

                </div>
            </div>

            <!-- TRƯỜNG HỢP RỖNG -->
            <div class="col-12" th:if="${classes == null || #lists.isEmpty(classes)}">
                <div class="empty-box text-center">
                    <i class="lni lni-empty-file"></i>
                    <p>Bạn chưa tham gia lớp học nào</p>
                </div>
            </div>

        </div>
    </div>
</section>

<style>
.classes-section {
    background: linear-gradient(180deg,#f8f9ff,#fff);
    min-height: 100vh;
}

/* NÚT QUAY LẠI */
.btn-back {
    border-radius: 999px;
    border: 2px solid #e2e8f0;
    padding: 8px 18px;
    font-weight: 600;
    background: #fff;
}

/* CARD */
.class-card {
    background: #fff;
    border-radius: 18px;
    padding: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
    transition: .3s;
}
.class-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 40px rgba(0,0,0,.15);
}

/* HEADER */
.class-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

/* STATUS */
.status {
    padding: 4px 12px;
    border-radius: 999px;
    font-size: .75rem;
    font-weight: 700;
}
.status.open { background: #e0e7ff; color: #4338ca; }
.status.late { background: #fee2e2; color: #991b1b; }

/* BODY */
.class-body h5 {
    font-weight: 700;
    margin-bottom: 6px;
}
.class-body p {
    font-size: .9rem;
    color: #64748b;
}

/* FOOTER */
.class-footer {
    margin-top: 14px;
}

/* EMPTY */
.empty-box {
    padding: 60px;
    border-radius: 18px;
    background: #f8fafc;
    color: #64748b;
}
.empty-box i {
    font-size: 3rem;
    margin-bottom: 10px;
}
</style>

</body>
</html>
